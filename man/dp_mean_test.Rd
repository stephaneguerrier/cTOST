% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dp_mean_test.R
\name{dp_mean_test}
\alias{dp_mean_test}
\title{Differentially Private Mean Equivalence Test (Internal)}
\usage{
dp_mean_test(
  a,
  b,
  n,
  epsilon,
  mean_private_obs,
  sd_private_obs,
  lower,
  upper,
  B = 1000,
  alpha = 0.05,
  seed = NULL,
  method = c("cpp", "r")
)
}
\arguments{
\item{a}{Lower bound for data truncation}

\item{b}{Upper bound for data truncation}

\item{n}{Sample size}

\item{epsilon}{Privacy budget}

\item{mean_private_obs}{Observed privatized mean}

\item{sd_private_obs}{Observed privatized standard deviation}

\item{lower}{Lower equivalence bound for TOST}

\item{upper}{Upper equivalence bound for TOST}

\item{B}{Number of bootstrap iterations (default: 1000)}

\item{alpha}{Significance level (default: 0.05)}

\item{seed}{Random seed for reproducibility (default: NULL)}

\item{method}{Implementation to use: "cpp" (default, fast) or "r" (exact R)}
}
\value{
List with components:
  \item{decision}{1 if equivalence established, 0 otherwise}
  \item{ci_lower}{Lower bound of confidence interval}
  \item{ci_upper}{Upper bound of confidence interval}
  \item{mean_private_obs}{Observed privatized mean (input)}
  \item{sd_private_obs}{Observed privatized SD (input)}
  \item{mu_estimates}{Bootstrap estimates of mu}
  \item{sigma_estimates}{Bootstrap estimates of sigma}
  \item{method}{Method used ("cpp" or "r")}
}
\description{
Internal unified interface for DP-TOST that automatically selects the best implementation.
Uses ultra-fast C++ by default (15-250x speedup), with option to use pure R.
}
\details{
This function performs equivalence testing under differential privacy.

**Method Selection:**
- `"cpp"` (default): Ultra-fast C++ implementation using Nelder-Mead
  - 15-250x faster depending on problem size
  - Uses native C++ RNG (different from R but statistically equivalent)
  - Recommended for production and large-scale simulations

- `"r"`: Pure R implementation using L-BFGS-B
  - Uses R's optim() with gradient-based optimization
  - Exact reproducibility with R workflows
  - Useful for validation and debugging

**Performance Guide:**
- Small problems (n~100, B~1000): C++ is 60-250x faster
- Large problems (n~1000, B~10000): C++ is 15-20x faster
}
\keyword{internal}
